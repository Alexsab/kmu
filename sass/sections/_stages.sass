.stages
	margin-bottom: -130px
	+media-breakpoint-down(md)
		margin-bottom: -60px
	+media-breakpoint-down(xs)
		margin-bottom: -40px
	.container
		+media-breakpoint-down(md)
			max-width: 100%
	&-block
		position: relative
		&__item
			flex: 0 0 20%
			text-align: center
			margin: 0 2.5% 130px
			opacity: 0
			animation-duration: .8s
			h4
				text-transform: uppercase
				font-size: 14px
				margin: 0
				font-weight: bold
				+media-breakpoint-down(sm)
					font-size: 12px
			+media-breakpoint-down(md)
				margin-bottom: 60px
			+media-breakpoint-down(xs)
				flex: 0 0 50%
				margin: 0 0 40px

.stages-item__icon
	width: 120px
	height: 120px
	background-color: $accent
	margin: 0 auto 12px
	border-radius: 50%
	overflow: hidden
	display: flex
	justify-content: center
	align-items: center
	position: relative
	z-index: 5
	img
		max-width: 60%
		max-height: 50%
		width: auto
		margin: 0 auto
	+media-breakpoint-down(sm)
		width: 100px
		height: 100px
	+media-breakpoint-down(xs)
		width: 80px
		height: 80px

.stages-border
	position: absolute
	+media-breakpoint-down(md)
		display: none
	&.one
		height: .5px
		left: 10%
		top: 60px
		width: 0
		border-bottom: 2px dashed $accent
		&.active
			animation: toright .8s forwards linear 1.2s
	&.two
		width: 0.5px
		// height: 142px
		right: 0
		top: 60px
		border-right: 2px dashed $accent
		&.active
			animation: tobottom .3s forwards linear 2s
	&.three
		height: .5px
		// width: 100%
		right: 0
		top: 200px
		border-bottom: 2px dashed $accent
		&.active
			animation: toleft .6s forwards linear 2.3s
	&.four
		width: 0.5px
		// height: 142px
		left: 0
		top: 200px
		border-right: 2px dashed $accent
		&.active
			animation: tobottom .3s forwards linear 2.9s
	&.five
		height: .5px
		// width: 90%
		left: 0
		top: 342px
		border-bottom: 2px dashed $accent
		&.active
			animation: toright .8s forwards linear 3.2s


@keyframes toright
	0%
		width: 0%
	100%
		width: 90%

@keyframes toleft
	0%
		width: 0%
	100%
		width: 100%

@keyframes tobottom
	0%
		height: 0%
	100%
		height: 142px

@for $i from 2 through 8
	.stages-item:nth-child(#{$i})
		animation-delay: ($i*0.3) + s
		+media-breakpoint-down(xs)
			animation-delay: ($i*0.2) + s
